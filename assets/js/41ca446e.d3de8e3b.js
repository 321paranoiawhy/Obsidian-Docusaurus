"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[4768],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>g});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),u=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=u(e.components);return a.createElement(s.Provider,{value:t},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),c=u(n),m=r,g=c["".concat(s,".").concat(m)]||c[m]||d[m]||o;return n?a.createElement(g,i(i({ref:t},p),{},{components:n})):a.createElement(g,i({ref:t},p))}));function g(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[c]="string"==typeof e?e:r,i[1]=l;for(var u=2;u<o;u++)i[u]=n[u];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},3112:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>d,frontMatter:()=>o,metadata:()=>l,toc:()=>u});var a=n(7462),r=(n(7294),n(3905));const o={title:"300. Routing","date created":"Wednesday, November 2nd 2022, 3:34:46 pm","date modified":"Thursday, December 8th 2022, 3:53:46 pm"},i="300. Routing",l={unversionedId:"Frameworks/Nextjs/Routing",id:"Frameworks/Nextjs/Routing",title:"300. Routing",description:"Intro to next.js Routing",source:"@site/docs/Frameworks/Nextjs/300. Routing.md",sourceDirName:"Frameworks/Nextjs",slug:"/Frameworks/Nextjs/Routing",permalink:"/obsidian/docs/Frameworks/Nextjs/Routing",draft:!1,editUrl:"https://github.com/zekaryas1/notes/blob/main/docs/Frameworks/Nextjs/300. Routing.md",tags:[],version:"current",sidebarPosition:300,frontMatter:{title:"300. Routing","date created":"Wednesday, November 2nd 2022, 3:34:46 pm","date modified":"Thursday, December 8th 2022, 3:53:46 pm"},sidebar:"tutorialSidebar",previous:{title:"200. Create New next.js App",permalink:"/obsidian/docs/Frameworks/Nextjs/how to create-build-run a new app"},next:{title:"400. Pre-rendering",permalink:"/obsidian/docs/Frameworks/Nextjs/Static site generation"}},s={},u=[{value:"Intro to next.js Routing",id:"intro-to-nextjs-routing",level:2},{value:"Type of Routes",id:"type-of-routes",level:2},{value:"Accessing URL Parameters",id:"accessing-url-parameters",level:3},{value:"How to Navigation",id:"how-to-navigation",level:2},{value:"Navigation Using Link",id:"navigation-using-link",level:3},{value:"Navigating Programmatically",id:"navigating-programmatically",level:3},{value:"How to Create Custom 404 Page",id:"how-to-create-custom-404-page",level:2},{value:"Show Loading Progress When Routing",id:"show-loading-progress-when-routing",level:2},{value:"Shallow Routing",id:"shallow-routing",level:2}],p={toc:u},c="wrapper";function d(e){let{components:t,...n}=e;return(0,r.kt)(c,(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"300-routing"},"300. Routing"),(0,r.kt)("h2",{id:"intro-to-nextjs-routing"},"Intro to next.js Routing"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Next.js has a file-system based router built on the concept of pages."),(0,r.kt)("li",{parentName:"ul"},"When a file is added to the pages directory, it's automatically available as a route."),(0,r.kt)("li",{parentName:"ul"},"The files inside the pages directory can be used to define most common patterns.",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"filenames, nested file structure define routing scheme")))),(0,r.kt)("h2",{id:"type-of-routes"},"Type of Routes"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"//js files with their respective endpoints to reach them.\n- pages\n    - index.js                /\n    - about.js                /about\n    - profile.js              /profile\n    - blog  [nested routes]\n        - index.js            /blog\n        - my.js               /blog/my\n        - [blog_id].js        /blog/{blog_id}\n    - docs\n        - [...params].js      /catch all routes\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"index routes",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"/"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"/blog")))),(0,r.kt)("li",{parentName:"ul"},"route with pages",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"/about"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"/profile")))),(0,r.kt)("li",{parentName:"ul"},"nested routes",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"/blog/my"),","))),(0,r.kt)("li",{parentName:"ul"},"dynamic routes",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"use [] to define dynamic routes"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"/blog/{blog_id}")))),(0,r.kt)("li",{parentName:"ul"},"catch-all routes",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"/docs/python/collections/list")),(0,r.kt)("li",{parentName:"ul"},"used to match all request types"),(0,r.kt)("li",{parentName:"ul"},"returns an array with request query")))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"//nested dynamic routes\n- products\n    - [product_id]\n        - index.js  /products/{product_id}\n        - reviews\n            - [review_id].js  /products/{product_id}/review/{review_id}\n")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"search urls such as ",(0,r.kt)("inlineCode",{parentName:"p"},"/profile?user=zack")," will forward request to profile.js")),(0,r.kt)("h3",{id:"accessing-url-parameters"},"Accessing URL Parameters"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"in Next.js you can use query object to access both URL ",(0,r.kt)("inlineCode",{parentName:"li"},"params")," and ",(0,r.kt)("inlineCode",{parentName:"li"},"query")," objects in API, SSR, client-side except for SSG/ISR only ",(0,r.kt)("inlineCode",{parentName:"li"},"params")," is available")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"export async function getServerSideProps(context) {  \n    const {params, query} = context;\n    //given url like `/shop/{product_id}?brand=apple`\n    console.log(params); //{product_id: 45}\n\n    console.log(query);  //{product_id: 45, brand: 'apple'}\n    cosnt {brand} = query;\n}\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"import { useRouter } from 'next/router'\n\nexport default () => {\n  const router = useRouter()\n  const {post_id} = router.query;\n\n  ...\n}\n")),(0,r.kt)("h2",{id:"how-to-navigation"},"How to Navigation"),(0,r.kt)("h3",{id:"navigation-using-link"},"Navigation Using Link"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"navigation between pages")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"//navigating between pages\nimport Link from 'next/link'\n<Link href=\"/about\">About Us</Link>\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"navigation between dynamic pages")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"//navigating between dynamic pages\n<Link href={`/blog/${encodeURIComponent(blog.id)}`}>\n        {blog.title}\n</Link>\n\n//or\n<Link href={{ pathname: '/blog/[id]', query: { id: blog.id }, }}>\n        {blog.title}\n</Link>\n")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("inlineCode",{parentName:"p"},"encodeURIComponent")," == used to keep the path utf-8 compatible.")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"replace current page")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"//replace current url\n//navigating between dynamic pages\n//instead of adding a new page to stack it replaces the current page\n<Link href={`/blog/${encodeURIComponent(blog.id)}`} replace>\n        {blog.title}\n</Link>\n")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("inlineCode",{parentName:"p"},"Link")," should be used for client side navigation only",(0,r.kt)("br",{parentName:"p"}),"\n","for external navigation or for server side navigation use plain old ",(0,r.kt)("inlineCode",{parentName:"p"},"<a>"))),(0,r.kt)("h3",{id:"navigating-programmatically"},"Navigating Programmatically"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"import { useRouter } from \"next/router\";\n\nfunction Home(){\n    const router = useRouter();\n\n    const handleClick = ()=>{\n        router.push('/blog');\n\n        //router.replace('/blog');\n    }\n\n    return <button onclick={handleClick}>Go to blog </button>\n}\nexport default Home;\n")),(0,r.kt)("h2",{id:"how-to-create-custom-404-page"},"How to Create Custom 404 Page"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"to override the default 404 page, create a file called ",(0,r.kt)("inlineCode",{parentName:"li"},"404.js")," inside ",(0,r.kt)("inlineCode",{parentName:"li"},"pages")," folder")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"import Link from 'next/link'\nfunction PageNotFound() {\n    return <p> page not found <Link href={\"/\"}>go home</Link> </p>\n}\nexport default PageNotFound;\n")),(0,r.kt)("h2",{id:"show-loading-progress-when-routing"},"Show Loading Progress When Routing"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://www.npmjs.com/package/nextjs-progressbar"},"https://www.npmjs.com/package/nextjs-progressbar"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"npm i nextjs-progressbar\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"import NextNProgress from 'nextjs-progressbar';\n\nexport default function MyApp({ Component, pageProps }) {\n  return (\n    <>\n      <NextNProgress />\n      <Component {...pageProps} />;\n    </>\n  );\n}\n")),(0,r.kt)("h2",{id:"shallow-routing"},"Shallow Routing"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://nextjs.org/docs/routing/shallow-routing"},"shallow-routing")),(0,r.kt)("li",{parentName:"ul"},"Shallow routing allows you to change the URL without running data fetching methods again, that includes getServerSideProps, getStaticProps, and getInitialProps."),(0,r.kt)("li",{parentName:"ul"},"This can be useful to let users bookmark a page, with configuration they made client side,")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"const changeCategory = (newCat)=>{\n    router.push('/?counter=10', undefined, { shallow: true })\n}\n")))}d.isMDXComponent=!0}}]);